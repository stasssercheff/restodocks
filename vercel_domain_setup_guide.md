# Подключение домена restodocks.com к Production Environment в Vercel

## Текущий статус домена

### DNS конфигурация:
- **A Record:** 216.198.79.1 (не указывает на Vercel)
- **Nameservers:** dns1.registrar-servers.com, dns2.registrar-servers.com
- **www субдомен:** не настроен

## Проблема: "Connect to an environment production"

Это сообщение означает, что:
1. Домен добавлен в проект Vercel
2. НО домен не привязан к production environment
3. Или DNS записи настроены неправильно

## Решение (пошаговое)

### Шаг 1: Войти в Vercel Dashboard
1. Откройте https://vercel.com/dashboard
2. Найдите проект "restodocks" или ваш Flutter проект

### Шаг 2: Перейти в настройки домена
1. Откройте проект
2. Перейдите в **Settings** → **Domains**
3. Проверьте список доменов

### Шаг 3: Проверить статус домена restodocks.com

Вы увидите один из статусов:

#### A) Домен не добавлен:
**Действия:**
1. Нажмите **Add Domain**
2. Введите `restodocks.com`
3. Vercel покажет DNS записи для настройки

#### B) Домен добавлен, но показывает "Invalid Configuration" или "Pending":
**Причина:** DNS записи не указывают на Vercel

**Решение - Вариант 1 (Рекомендуется): Использовать Vercel Nameservers**
1. У вашего регистратора домена измените nameservers на:
   ```
   ns1.vercel-dns.com
   ns2.vercel-dns.com
   ```
2. Vercel автоматически настроит все DNS записи
3. Ожидайте до 48 часов для распространения

**Решение - Вариант 2: Настроить DNS записи вручную**

У вашего регистратора домена добавьте эти записи:

**Для restodocks.com:**
```
Type: A
Name: @ (или пусто)
Value: 76.76.21.21
TTL: 3600 (или Auto)
```

**Для www.restodocks.com:**
```
Type: CNAME
Name: www
Value: cname.vercel-dns.com
TTL: 3600 (или Auto)
```

⚠️ **Важно:** IP адрес `76.76.21.21` может отличаться. Vercel покажет точный IP в своем интерфейсе.

#### C) Домен добавлен и настроен, но не привязан к Production:
**Признаки:**
- DNS записи правильные (галочка зеленая)
- Но есть кнопка "Connect to an environment production"

**Действия:**
1. Найдите домен `restodocks.com` в списке
2. Нажмите на три точки (⋮) справа от домена
3. Выберите **Edit**
4. В поле **Environment** выберите **Production**
5. В поле **Git Branch** выберите **main** (или вашу основную ветку)
6. Нажмите **Save**

### Шаг 4: Добавить www субдомен (опционально)

1. В **Settings** → **Domains** нажмите **Add Domain**
2. Введите `www.restodocks.com`
3. Выберите **Redirect to restodocks.com** (рекомендуется)
4. Или выберите отдельный environment

### Шаг 5: Проверить SSL сертификат

После настройки DNS:
1. Vercel автоматически выпустит SSL сертификат
2. Это может занять от нескольких минут до часа
3. Статус изменится на "Valid" с зеленой галочкой

## Что делать прямо сейчас

1. **Откройте Vercel Dashboard** → Ваш проект → Settings → Domains
2. **Сделайте скриншот** текущего состояния доменов
3. **Проверьте:**
   - Есть ли `restodocks.com` в списке?
   - Какой у него статус?
   - К какому environment он привязан?

## Частые ошибки

### "Invalid Configuration"
**Причина:** DNS записи указывают не на Vercel  
**Решение:** Обновите DNS (см. Шаг 3, вариант B)

### "Pending Verification"
**Причина:** DNS записи еще не распространились  
**Решение:** Подождите 1-24 часа и обновите страницу

### "Domain is already in use"
**Причина:** Домен уже используется в другом проекте Vercel  
**Решение:** Удалите домен из старого проекта или используйте другой аккаунт

## Проверка после настройки

После выполнения всех шагов:

```bash
# Проверить DNS записи
dig restodocks.com +short
# Должно показать IP Vercel (обычно 76.76.21.21 или подобный)

# Проверить www
dig www.restodocks.com +short
# Должно показать cname.vercel-dns.com

# Проверить в браузере
curl -I https://restodocks.com
# Должно вернуть 200 OK или 301/302 редирект
```

## Контакты для помощи

Если что-то не работает:
1. Проверьте Vercel deployment logs
2. Убедитесь, что последний деплой успешен (Production environment)
3. Проверьте, что build успешно завершился

---

**Следующие шаги:**
1. Откройте Vercel Dashboard
2. Проверьте текущий статус домена
3. Следуйте инструкциям выше в зависимости от текущего состояния
